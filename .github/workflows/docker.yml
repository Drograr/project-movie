# This is a basic workflow to help you get started with Actions


name: Docker Series Builds

on: [push]


jobs:
  build:     
    runs-on: ubuntu-latest
    steps:
      # Runs a single command using the runners shell
      - name: Run a one-line script
        run: echo Hello, world!
      - uses: actions/checkout@v2
      - name: Login to DockerHub Registry
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login docker.pkg.github.com -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin
     #- docker login -u $DOCKER_USER -p $DOCKER_PASSWORD
      - name: echo ok
        run: echo "ok"
      - name: change directory
        run: cd docker_building_scripts
      - name: run building docker services
        run: sudo sh build_services.sh
      - name: Test
        run: cd .. && ./mvnw clean test


